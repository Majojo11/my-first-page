<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard - Eventos</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="h-screen bg-gray-50 flex text-gray-700">

<!-- Sidebar -->
<aside class="w-64 bg-gray-100 h-full flex flex-col p-4 border-r border-gray-200">
    <input type="text" placeholder="Buscar" class="mb-4 bg-gray-200 rounded-lg px-3 py-2 outline-none text-sm placeholder-gray-500">

    <div class="grid grid-cols-2 gap-3 mb-6">
    <button class="bg-gray-200 rounded-xl py-4 flex flex-col items-center justify-center text-sm font-medium hover:bg-gray-300 transition">
        <span class="text-2xl">ðŸ‘¤</span>
        Mi perfil
    </button>
    <button class="bg-gray-200 rounded-xl py-4 flex flex-col items-center justify-center text-sm font-medium hover:bg-gray-300 transition">
        <span class="text-2xl">ðŸ“…</span>
        Todos los eventos
    </button>
    <button class="bg-gray-200 rounded-xl py-4 flex flex-col items-center justify-center text-sm font-medium hover:bg-gray-300 transition">
        <span class="text-2xl">ðŸ‘¥</span>
        Amigos
    </button>
    <button class="bg-gray-200 rounded-xl py-4 flex flex-col items-center justify-center text-sm font-medium hover:bg-gray-300 transition">
        <span class="text-2xl">ðŸ“Š</span>
        EstadÃ­sticas
    </button>
    </div>

    <h3 class="font-semibold text-sm mb-2">Eventos</h3>
    <div class="flex justify-between items-center mb-3">
        <p class="text-sm text-gray-500 italic">Nuevo evento...</p>
        <div class="flex space-x-2">
            <button id="deleteEventBtn" class="font-bold px-2 py-1">-</button>
            <button id="newEventBtn" class="text-lg font-bold px-2 py-1">+</button>
        </div>
    </div>

    <ul class="text-sm space-y-2">
    <li class="cursor-pointer hover:text-black text-gray-500">Evento 1</li>
    <li class="cursor-pointer hover:text-black text-gray-500">Evento 2</li>
    </ul>
</aside>

<!-- Main content -->
<main class="flex-1 flex flex-col p-10 relative">
    <div class="flex justify-between items-center mb-8">
    <h1 class="text-3xl font-extrabold">Fiesta Fin de aÃ±o</h1>
    <button id="addExpense" class="bg-gray-300 hover:bg-gray-400 w-10 h-10 rounded-full flex items-center justify-center text-2xl transition">+</button>
    </div>

    <div id="expensesList" class="space-y-8">
    <div>
        <h3 class="font-bold text-lg mb-2">â€¢ Mobiliario - <span class="font-bold">$3000.00</span></h3>
        <ul class="ml-6 text-sm text-gray-500">
        <li class="flex justify-between"><span>Usuario 1</span><span>$1500.00</span></li>
        <li class="flex justify-between"><span>Usuario 2</span><span>$500.00</span></li>
        <li class="flex justify-between"><span>Usuario 3</span><span>$1000.00</span></li>
        </ul>
    </div>

    <div>
        <h3 class="font-bold text-lg mb-2">â€¢ Bebidas - <span class="font-bold">$3000.00</span></h3>
        <ul class="ml-6 text-sm text-gray-500">
        <li class="flex justify-between"><span>Usuario 1</span><span>$1500.00</span></li>
        <li class="flex justify-between"><span>Usuario 2</span><span>$500.00</span></li>
        <li class="flex justify-between"><span>Usuario 3</span><span>$1000.00</span></li>
        </ul>
    </div>
    </div>

    <button id="generateReport" class="mt-auto bg-gray-300 text-gray-500 font-semibold py-3 rounded-xl hover:bg-gray-400 hover:text-gray-700 transition">
    Generar reporte
    </button>
</main>

<!-- Modal para crear evento -->
<div id="eventModal" class="hidden fixed inset-0 bg-gray-800 bg-opacity-60 flex items-center justify-center z-50">
    <div class="bg-gray-100 rounded-xl shadow-lg w-1/2 p-8 relative">
    <button id="closeModal" class="absolute top-4 right-4 text-2xl text-gray-600 hover:text-black">âœ•</button>
    <h2 class="text-2xl font-bold mb-6">Nuevo Evento</h2>

    <form id="eventForm" class="space-y-4">
        <div>
        <label class="block font-semibold text-gray-600 mb-1">Nombre de evento</label>
        <input type="text" id="eventName" class="w-full bg-gray-300 rounded-lg px-3 py-2 outline-none">
        </div>
        <div>
        <label class="block font-semibold text-gray-600 mb-1">DescripciÃ³n</label>
        <input type="text" id="eventDesc" class="w-full bg-gray-300 rounded-lg px-3 py-2 outline-none">
        </div>
        <div>
        <label class="block font-semibold text-gray-600 mb-1">Usuarios</label>
        <input type="text" id="eventUsers" placeholder="Ej: Juan, Ana, Pedro" class="w-full bg-gray-300 rounded-lg px-3 py-2 outline-none">
        </div>

        <div class="flex justify-end mt-6">
        <button type="submit" class="bg-gray-400 text-white px-4 py-2 rounded-lg hover:bg-gray-500 transition">Crear Evento</button>
        </div>
    </form>
    </div>
</div>

<!--Modal para nuevo gasto-->
<div id="UpdateExpense" class="hidden fixed inset-0 bg-gray-800 bg-opacity-60 flex items-center justify-center z-50">
    <div class="bg-gray-100 rounded-xl shadow-lg w-1/2 p-8 relative">
        <button id="closeModalUpdate" class="absolute top-4 right-4 text-2xl text-gray-600 hover:text-black">âœ•</button>
        <h2 class="text-2xl font-bold mb-6">Nuevo Gasto</h2>
    
        <form id="eventForm" class="space-y-4">
            <div>
            <label class="block font-semibold text-gray-600 mb-1">Nombre del gasto</label>
            <input type="text" id="ExpenseName" class="w-full bg-gray-300 rounded-lg px-3 py-2 outline-none">
            </div>
            <div>
            <label class="block font-semibold text-gray-600 mb-1">Usuarios</label>
            <input type="text" id="ExpenseUsers" placeholder="Ej: Juan, Ana, Pedro" class="w-full bg-gray-300 rounded-lg px-3 py-2 outline-none">
            </div>
    
            <div class="flex justify-end mt-6">
            <button type="submit" class="bg-gray-400 text-white px-4 py-2 rounded-lg hover:bg-gray-500 transition">Agregar gasto</button>
            </div>
        </form>
        </div>
</div>

<script>
    // Botones
    const newEventBtn = document.getElementById("newEventBtn");
    const eventModal = document.getElementById("eventModal");
    const closeModal = document.getElementById("closeModal");
    const eventForm = document.getElementById("eventForm");


    // Abrir modal nuevo evento
    newEventBtn.addEventListener("click", () => {
    eventModal.classList.remove("hidden");
    });

    // Cerrar modal nuevo evento
    closeModal.addEventListener("click", () => {
    eventModal.classList.add("hidden");
    });

    // Botones y elementos del modal de gasto
    const addExpenseBtn = document.getElementById("addExpense");
    const updateExpenseModal = document.getElementById("UpdateExpense");
    const closeModalUpdate = document.getElementById("closeModalUpdate");
    const expenseForm = updateExpenseModal.querySelector("form"); // formulario dentro del modal
    const expensesList = document.getElementById("expensesList"); 

    // Abrir modal de gasto
    addExpenseBtn.addEventListener("click", () => {
        updateExpenseModal.classList.remove("hidden");
    });

    // Cerrar modal de gasto
    closeModalUpdate.addEventListener("click", () => {
        updateExpenseModal.classList.add("hidden");
        expenseForm.reset();
    });

    // Crear gasto al enviar el formulario
    expenseForm.addEventListener("submit", (e) => {
        e.preventDefault();

        const name = document.getElementById("ExpenseName").value.trim();
        const usersText = document.getElementById("ExpenseUsers").value.trim();

        if (name === "") {
            alert("Por favor, ingresa un nombre para el gasto.");
            return;
        }

        // Convertir usuarios separados por coma en lista
        const users = usersText ? usersText.split(",").map(u => u.trim()) : [];

        // Crear un div de gasto nuevo
        const newExpense = document.createElement("div");
        newExpense.innerHTML = `
            <h3 class="font-bold text-lg mb-2">â€¢ ${name} - <span class="font-bold">$0.00</span></h3>
            <p class="text-sm italic text-gray-500 mb-1">${desc}</p>
            <ul class="ml-6 text-sm text-gray-500">
                ${users.map(u => `<li class="flex justify-between"><span>${u}</span><span>$0.00</span></li>`).join('')}
            </ul>
        `;

        // Agregar al contenedor de gastos
        expensesList.appendChild(newExpense);

        // Cerrar modal y limpiar formulario
        updateExpenseModal.classList.add("hidden");
        expenseForm.reset();

        alert(`Gasto "${name}" agregado correctamente`);
    });

    // Crear evento
    eventForm.addEventListener("submit", (e) => {
e.preventDefault();
    const name = document.getElementById("eventName").value.trim();
    const desc = document.getElementById("eventDesc").value.trim();

    if (name === "") {
        alert("Por favor, ingresa un nombre de evento.");
        return;
    }

    const eventList = document.querySelector("aside ul");
    const newLi = document.createElement("li");
    newLi.textContent = name;
    newLi.className = "cursor-pointer hover:text-black text-gray-500";
    eventList.appendChild(newLi);

    eventModal.classList.add("hidden");
    eventForm.reset();

    alert(`Evento "${name}" creado correctamente`);
    });

    // BotÃ³n para generar reporte
    const reportBtn = document.getElementById("generateReport");
    reportBtn.addEventListener("click", () => {
    alert("ðŸ“„ Reporte generado correctamente (aquÃ­ podrÃ­as descargar un PDF o ver un resumen).");
    });

    // BotÃ³n para eliminar evento
    const deleteEventBtn = document.getElementById("deleteEventBtn");
        deleteEventBtn.addEventListener("click", () => {
            const confirmar = confirm("Â¿Seguro que quieres eliminar este evento?");
            if (confirmar) {
                alert("Evento eliminado âœ…");
            }
        });
</script>
</body>
</html>